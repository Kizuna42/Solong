**So Long**

**評価項目**

**Chapter IV.1 ゲーム (Game)**

* プレイヤーの目標は、マップ上のすべての収集アイテムを集め、出口から脱出すること。
* プレイヤーが収集アイテムを取ると、マップから消える。
* プレイヤーの各移動（左、右、上、下）はカウントされ、シェルに表示される。
* プレイヤーが全ての収集アイテムを集め、出口に到達したらゲームは終了する。
* プレイヤーは、次の位置が壁でない場合にのみ移動できる。

**Chapter IV.2 グラフィック管理 (Graphic management)**

* MiniLibXを使用すること。
* プログラムは引数を1つだけ取る（マップのパス）。
* ゲームは、壁、収集アイテム、プレイヤー、出口に対して異なるスプライトを表示する必要がある。
* プレイヤーの死亡時またはゲームクリア時、プログラムは割り当てられたメモリをすべて解放し、正常に終了すること。
* ゲームウィンドウはマップのサイズに合わせること。
* 移動ごとに画面全体の再描画を行わず、必要な要素のみを再描画すること。

**Chapter IV.3 マップ (Map)**

* マップは.berファイルから解析・読み込みを行うこと。
* マップは長方形であれば任意のサイズで構わない。
* マップは以下の5種類の文字のみで構成されること:
    * `1`：壁
    * `0`：空きスペース
    * `P`：プレイヤーの開始位置
    * `E`：出口
    * `C`：収集アイテム
* マップには少なくとも1つの`E`、1つの`P`、1つの`C`が含まれること。
* マップは壁で囲まれていること。
* マップは有効であること（全ての収集アイテムを集め、出口に到達できる有効なパスがあること）。
* マップの読み込みには`open`, `close`, `read`, `malloc`, `free`以外の関数を使用しないこと。

---

**So_Long (評価スケール)**

**Mandatory part**

* **Executable name:**
    * `make`コマンドで正しくコンパイルされ、実行ファイル名が`so_long`であること。
* **Map reading:**
    * 異なるマップでテストすること。
    * 異なる行サイズでテストすること。
    * 設定ファイルが誤っている場合（不明なキー、重複キー、無効なパスなど）にプログラムがエラーを返し、適切に終了すること。
* **Technical elements of the display:**
    * マップの有効な表示であること。
    * プログラム起動時にウィンドウが開くこと。
    * 実行中ずっと開いたままであること。
    * 他のウィンドウを使用するか、画面の境界線を使用することで、ウィンドウの全体または一部を非表示にし、その後ウィンドウを最小化・最大化しても、ウィンドウの内容が一貫していること。
* **User basic events:**
    * ウィンドウ左上の赤いXをクリックすると、ウィンドウが閉じ、プログラムが正常終了すること。
    * ESCキーを押すと、ウィンドウが閉じ、プログラムが正常終了すること（Qキーなど他のキーでも可）。
    * 4つの矢印キー（またはWASD/ZQSDキー）を押したときに、プレイヤーが移動すること。
* **Movements:**
    * プレイヤーの初期位置がマップファイルと一致していること。
    * 矢印キーでマップのすべての方向に移動できること。
    * ゲームが「プレイ可能」であること。
* **Walls & Sprites:**
    * 壁のテクスチャが正しく配置され、プレイヤーが通り抜けられないこと。
    * 収集アイテムのテクスチャが正しく配置され、プレイヤーがその上を歩くことで拾えること。
    * 出口のテクスチャが正しく配置され、全ての収集アイテムを拾った後にその上を歩くことでゲームを終了できること。
    * プレイヤーのテクスチャが正しく配置され、壁以外にはすべての方向に移動できること。
* **Counter:**
    * プレイヤーの移動回数を数える小さなカウンターがシェルに表示されること。
* **Image usage:**
    * `mlx_put_image_to_window`を使用し、`mlx_put_pixel`を使用していないこと。

